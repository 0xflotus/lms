{"version":3,"file":"Batches-gDWZzuli.js","sources":["../../../../frontend/src/components/BatchCard.vue","../../../../frontend/src/pages/Batches.vue"],"sourcesContent":["<template>\n\t<div\n\t\tclass=\"flex flex-col border border-gray-200 rounded-md p-4 h-full\"\n\t\tstyle=\"min-height: 150px\"\n\t>\n\t\t<Badge\n\t\t\tv-if=\"batch.seat_count && batch.seats_left > 0\"\n\t\t\ttheme=\"green\"\n\t\t\tclass=\"self-start mb-2\"\n\t\t>\n\t\t\t{{ batch.seats_left }} {{ __('Seat Left') }}\n\t\t</Badge>\n\t\t<Badge\n\t\t\tv-else-if=\"batch.seat_count && batch.seats_left <= 0\"\n\t\t\ttheme=\"red\"\n\t\t\tclass=\"self-start mb-2\"\n\t\t>\n\t\t\t{{ __('Sold Out') }}\n\t\t</Badge>\n\t\t<div class=\"text-xl font-semibold mb-1\">\n\t\t\t{{ batch.title }}\n\t\t</div>\n\t\t<div class=\"short-introduction\">\n\t\t\t{{ batch.description }}\n\t\t</div>\n\t\t<div class=\"mt-auto\">\n\t\t\t<div v-if=\"batch.amount\" class=\"font-semibold text-lg mb-4\">\n\t\t\t\t{{ batch.price }}\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-3\">\n\t\t\t\t<BookOpen class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t<span> {{ batch.courses.length }} {{ __('Courses') }} </span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-3\">\n\t\t\t\t<Calendar class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t<span>\n\t\t\t\t\t{{ dayjs(batch.start_date).format('DD MMM YYYY') }} -\n\t\t\t\t\t{{ dayjs(batch.end_date).format('DD MMM YYYY') }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center\">\n\t\t\t\t<Clock class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t<span>\n\t\t\t\t\t{{ formatTime(batch.start_time) }} - {{ formatTime(batch.end_time) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { Calendar, Clock, BookOpen } from 'lucide-vue-next'\nimport { inject } from 'vue'\nimport { Badge } from 'frappe-ui'\nimport { formatTime } from '../utils'\n\nconst dayjs = inject('$dayjs')\nconst props = defineProps({\n\tbatch: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n})\n</script>\n<style>\n.short-introduction {\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 2;\n\t-webkit-box-orient: vertical;\n\ttext-overflow: ellipsis;\n\twidth: 100%;\n\toverflow: hidden;\n\tmargin: 0.25rem 0 1.25rem;\n\tline-height: 1.5;\n}\n</style>\n","<template>\n    <div class=\"h-screen text-base\">\n        <header\n            class=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-3 py-2.5 sm:px-5\"\n        >\n            <Breadcrumbs class=\"h-7\" :items=\"[{ label: __('All Batches'), route: { name: 'Batches' } }]\"/>\n            <div class=\"flex\">\n                <Button variant=\"solid\">\n                    <template #prefix>\n                        <Plus class=\"h-4 w-4\" />\n                    </template>\n                    {{ __(\"New Batch\") }}\n                </Button>\n            </div>\n        </header>\n        <div class=\"mx-5 py-5\">\n          <Tabs class=\"overflow-hidden\" v-model=\"tabIndex\" :tabs=\"tabs\">\n            <template #tab=\"{ tab, selected }\">\n              <div>\n                <button\n                    class=\"group -mb-px flex items-center gap-2 border-b border-transparent py-2.5 text-base text-gray-600 duration-300 ease-in-out hover:border-gray-400 hover:text-gray-900\"\n                    :class=\"{ 'text-gray-900': selected }\">\n                    <component v-if=\"tab.icon\" :is=\"tab.icon\" class=\"h-5\" />\n                    {{ __(tab.label) }}\n                    <Badge :class=\"{ 'text-gray-900 border border-gray-900': selected }\" variant=\"subtle\" theme=\"gray\"\n                        size=\"sm\">\n                        {{ tab.count }}\n                    </Badge>\n                </button>\n              </div>\n            </template>\n            <template #default=\"{ tab }\">\n              <div v-if=\"tab.batches && tab.batches.value.length\" class=\"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4 gap-8 mt-5\">\n                <router-link v-for=\"batch in tab.batches.value\"\n                    :to=\"{ name: 'BatchDetail', params: { batchName: batch.name } }\">\n                    <BatchCard :batch=\"batch\" />\n                </router-link>\n              </div>\n              <div v-else class=\"grid flex-1 place-items-center text-xl font-medium text-gray-500\">\n                <div class=\"flex flex-col items-center justify-center mt-4\">\n                    <div>\n                        {{ __(\"No {0} batches found\").format(tab.label.toLowerCase()) }}\n                    </div>\n                </div>\n              </div>\n            </template>\n          </Tabs>\n        </div>\n    </div>\n</template>\n<script setup>\nimport { createResource, Breadcrumbs, Button, Tabs, Badge } from \"frappe-ui\";\nimport { Plus } from \"lucide-vue-next\"\nimport BatchCard from '@/components/BatchCard.vue';\nimport { inject, ref, computed } from \"vue\";\n\nconst user = inject(\"$user\")\nconst batches = createResource({\n    url: \"lms.lms.utils.get_batches\",\n    cache: [\"batches\", user?.data?.email],\n    auto: true,\n});\n\nconst tabIndex = ref(0)\nconst tabs = [\n    {\n        label: \"Upcoming\",\n        batches: computed(() => batches.data?.upcoming || []),\n        count: computed(() => batches.data?.upcoming?.length),\n    },\n];\n\nif (user.data?.is_moderator) {\n    tabs.push({\n        label: \"Archived\",\n        batches: computed(() => batches.data?.archived),\n        count: computed(() => batches.data?.archived?.length),\n    });\n    tabs.push({\n        label: \"Private\",\n        batches: computed(() => batches.data?.private),\n        count: computed(() => batches.data?.private?.length),\n    })\n}\nif (user.data) {\n    tabs.push({\n        label: \"Enrolled\",\n        batches: computed(() => batches.data?.enrolled),\n        count: computed(() => batches.data?.enrolled?.length)\n    })\n}\n\n</script>"],"names":["dayjs","inject","user","batches","createResource","_a","tabIndex","ref","tabs","computed","_b"],"mappings":"4uBAuDA,MAAMA,EAAQC,EAAO,QAAQ,i4CCC7B,MAAMC,EAAOD,EAAO,OAAO,EACrBE,EAAUC,EAAe,CAC3B,IAAK,4BACL,MAAO,CAAC,WAAWC,EAAAH,GAAA,YAAAA,EAAM,OAAN,YAAAG,EAAY,KAAK,EACpC,KAAM,EACV,CAAC,EAEKC,EAAWC,EAAI,CAAC,EAChBC,EAAO,CACT,CACI,MAAO,WACP,QAASC,EAAS,IAAM,OAAA,QAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAY,CAAA,EAAE,EACpD,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAd,YAAAK,EAAwB,OAAM,CACvD,CACL,EAEA,OAAIA,EAAAR,EAAK,OAAL,MAAAQ,EAAW,eACXF,EAAK,KAAK,CACN,MAAO,WACP,QAASC,EAAS,IAAA,OAAM,OAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,SAAQ,EAC9C,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAd,YAAAK,EAAwB,OAAM,CAC5D,CAAK,EACDF,EAAK,KAAK,CACN,MAAO,UACP,QAASC,EAAS,IAAA,OAAM,OAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,QAAO,EAC7C,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,UAAd,YAAAK,EAAuB,OAAM,CAC3D,CAAK,GAEDR,EAAK,MACLM,EAAK,KAAK,CACN,MAAO,WACP,QAASC,EAAS,IAAA,OAAM,OAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,SAAQ,EAC9C,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAd,YAAAK,EAAwB,OAAM,CAC5D,CAAK"}